@tailwind base;
@tailwind components;
@tailwind utilities;

/* Word-breaking helpers */
.hyphens-auto { hyphens: auto; }
.ow-anywhere { overflow-wrap: anywhere; word-break: normal; }
/* Prefer moving the entire word to next line; avoid intra-word hyphenation */
.no-hyphen-break { hyphens: none; word-break: keep-all; overflow-wrap: normal; }

:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
}

.dark {
  --background: 224 49% 13%;
  --foreground: 210 40% 98%;
}

html,
body {
  overflow-x: hidden;
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  transition: background-color 0.3s ease, color 0.3s ease;
}

@keyframes progress {
    from { width: 0% }
    to { width: 100% }
}

@keyframes aurora-blob {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
}

/* Stronger motion for highlighted blob */
@keyframes aurora-blob-strong {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(60px, -100px) scale(1.12);
  }
  50% {
    transform: translate(-40px, 40px) scale(0.92);
  }
  75% {
    transform: translate(80px, -30px) scale(1.08);
  }
}

/* Diagonal travel from top-left to bottom-right */
@keyframes aurora-diagonal {
  /* Seamless loop: 0% and 100% are identical */
  0% {
    transform: translate(-10%, 0%) scale(0.98);
    opacity: 0.38;
  }
  25% {
    transform: translate(10%, 8%) scale(1.03);
    opacity: 0.42;
  }
  50% {
    transform: translate(28%, 26%) scale(1.07);
    opacity: 0.46;
  }
  75% {
    transform: translate(44%, 40%) scale(1.02);
    opacity: 0.42;
  }
  100% {
    transform: translate(-10%, 0%) scale(0.98);
    opacity: 0.38;
  }
}

/* Pixel Blast float/scale */
@keyframes pixel-float {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(10px, -14px, 0) scale(1.1);
  }
  100% {
    transform: translate3d(-8px, 14px, 0) scale(0.96);
  }
}

/* Star border subtle sliding twinkle */
@keyframes star-slide {
  0% { background-position: 0% 0%, 0% 0%, 0% 0%; }
  50% { background-position: 60% 30%, 40% 80%, 85% 20%; }
  100% { background-position: 0% 0%, 0% 0%, 0% 0%; }
}

.before\:animate-star-slide::before {
  animation: star-slide 6s linear infinite;
}

/* Hide scrollbar for carousel */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Table styles for MDX content */
.prose table {
  margin-top: 0;
  margin-bottom: 0;
  border-collapse: separate;
  border-spacing: 0;
}

.prose table thead {
  border-bottom: 2px solid rgb(229 231 235);
  position: sticky;
  top: 0;
  z-index: 5;
}

.dark .prose table thead {
  border-bottom-color: rgb(55 65 81);
}

.prose table tbody tr:last-child {
  border-bottom: none;
}

.prose table tbody tr {
  border-bottom: 1px solid rgb(229 231 235);
}

.dark .prose table tbody tr {
  border-bottom-color: rgb(55 65 81);
}

/* Better text wrapping for table cells */
.prose table td,
.prose table th {
  vertical-align: top;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* First column styling for wide tables - make it sticky and more prominent */
.prose table th:first-child,
.prose table td:first-child {
  font-weight: 600;
  min-width: 120px;
  position: sticky;
  left: 0;
  background-color: rgb(249 250 251);
  z-index: 10;
  padding-right: 1rem;
}

.dark .prose table th:first-child,
.dark .prose table td:first-child {
  background-color: rgb(17 24 39);
}

.prose table thead th:first-child {
  background-color: rgb(249 250 251);
}

.dark .prose table thead th:first-child {
  background-color: rgb(31 41 55);
}

/* Add shadow to sticky first column for better separation */
.prose table th:first-child::after,
.prose table td:first-child::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
}

.dark .prose table th:first-child::after,
.dark .prose table td:first-child::after {
  background: linear-gradient(to right, rgba(255,255,255,0.1), transparent);
}

/* Responsive table wrapper */
.prose .overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: rgb(203 213 225) transparent;
}

.prose .overflow-x-auto::-webkit-scrollbar {
  height: 8px;
}

.prose .overflow-x-auto::-webkit-scrollbar-track {
  background: transparent;
}

.prose .overflow-x-auto::-webkit-scrollbar-thumb {
  background-color: rgb(203 213 225);
  border-radius: 4px;
}

.dark .prose .overflow-x-auto::-webkit-scrollbar-thumb {
  background-color: rgb(75 85 99);
}

/* Checklist styles - ensure text content in checklist items is properly styled */
.prose li[class*="flex"] > *:not(input[type="checkbox"]) {
  /* flex: 1; Removed to prevent checkbox wrapper from growing */
  color: rgb(55 65 75);
}

.dark .prose li[class*="flex"] > *:not(input[type="checkbox"]) {
  color: rgb(209 213 219);
}

.prose li[class*="flex"] strong {
  font-weight: 600;
  color: rgb(17 24 39);
}

.dark .prose li[class*="flex"] strong {
  color: rgb(255 255 255);
}

/* Checklist styles - style lists containing checkboxes */
/* Remove default styling from ul inside checklist container to avoid double borders */
.prose .checklist-container,
.prose ul.contains-task-list,
.prose ul:has(> li > input[type="checkbox"]),
.prose ul:has(li input[type="checkbox"]) {
  list-style: none !important;
  padding-left: 0 !important;
  margin: 0 !important;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  position: relative !important;
  z-index: 1 !important;
}

/* Checklist item styles */
.prose .checklist-container > li,
.prose ul.contains-task-list > li,
.prose ul:has(> li > input[type="checkbox"]) > li {
  display: flex !important;
  align-items: flex-start !important;
  gap: 1rem !important;
  padding: 1rem !important;
  margin-bottom: 0.75rem !important;
  border-radius: 0.5rem !important;
  background: rgb(255 255 255 / 0.8) !important;
  backdrop-filter: blur(4px);
  border: 1px solid rgb(229 231 235) !important;
  transition: all 0.3s ease !important;
  list-style: none !important;
  position: relative !important;
  z-index: 1 !important;
}

.prose .checklist-container > li:last-child,
.prose ul.contains-task-list > li:last-child,
.prose ul:has(> li > input[type="checkbox"]) > li:last-child {
  margin-bottom: 0 !important;
}

.prose .checklist-container > li:hover,
.prose ul.contains-task-list > li:hover,
.prose ul:has(> li > input[type="checkbox"]) > li:hover {
  border-color: rgb(52 211 153) !important;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1) !important;
  background: rgb(255 255 255) !important;
}

.dark .prose .checklist-container > li,
.dark .prose ul.contains-task-list > li,
.dark .prose ul:has(> li > input[type="checkbox"]) > li {
  background: rgb(17 24 39 / 0.7) !important;
  border-color: rgb(55 65 81) !important;
}

.dark .prose .checklist-container > li:hover,
.dark .prose ul.contains-task-list > li:hover,
.dark .prose ul:has(> li > input[type="checkbox"]) > li:hover {
  border-color: rgb(5 150 105) !important;
  background: rgb(17 24 39 / 0.9) !important;
}

/* Checkbox styling in checklists */
.prose .checklist-container input[type="checkbox"],
.prose ul.contains-task-list input[type="checkbox"],
.prose ul:has(> li > input[type="checkbox"]) input[type="checkbox"] {
  width: 1.25rem !important;
  height: 1.25rem !important;
  margin-top: 0.125rem !important;
  border-radius: 0.375rem !important;
  border: 2px solid rgb(209 213 219) !important;
  flex-shrink: 0 !important;
  accent-color: rgb(5 150 105) !important;
  cursor: pointer !important;
}

.dark .prose .checklist-container input[type="checkbox"],
.dark .prose ul.contains-task-list input[type="checkbox"],
.dark .prose ul:has(> li > input[type="checkbox"]) input[type="checkbox"] {
  border-color: rgb(75 85 99) !important;
  accent-color: rgb(5 150 105) !important;
}

/* Checklist item content - ensure title and description are visually separated */
/* Ensure checkbox and content align at top */
.prose .checklist-item {
  align-items: flex-start !important;
}

.prose .checklist-item > div:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
  align-self: flex-start !important;
}

/* Style the content wrapper - should contain title and description in separate divs */
.prose .checklist-item > div:last-child {
  display: flex !important;
  flex-direction: column !important;
  gap: 0 !important;
}

/* Title styling (first div inside content wrapper) */
.prose .checklist-item > div:last-child > div:first-child {
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: rgb(17 24 39) !important;
  margin-bottom: 0.5rem !important;
  line-height: 1.5 !important;
}

.dark .prose .checklist-item > div:last-child > div:first-child {
  color: rgb(255 255 255) !important;
}

/* Description styling (second div inside content wrapper) */
.prose .checklist-item > div:last-child > div:last-child:not(:first-child) {
  font-size: 0.875rem !important;
  font-weight: 400 !important;
  color: rgb(107 114 128) !important;
  line-height: 1.625 !important;
}

.dark .prose .checklist-item > div:last-child > div:last-child:not(:first-child) {
  color: rgb(156 163 175) !important;
}
